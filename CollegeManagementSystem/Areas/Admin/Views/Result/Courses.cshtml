@using CMS.Models;

@model List<Course>;
@{
    ViewData["Title"] = "Central College";
    TempData["Title"] = "Student Courses";
    var StudentId = ViewBag.Student;
}

<div class="row">


    @if (Model.Count > 0)
    {

        @for (int i = 1; i <= Model.ElementAt(Model.Count - 1).CourseYear.Year; i++)
        {

            <table class="table table-bordered table-striped mb-3">

                <thead>

                    <tr>
                        <th colspan="2">Year @i</th>
                    </tr>
                    <tr>
                        <th style="width: 70%;">Course Name</th>
                        <th style="width: 30%;">Actions</th>
                    </tr>

                </thead>

                <tbody>

                    @foreach (var course in Model.Where(x => x.CourseYear.Year == i))
                    {
                        <tr>
                            <td>@course.Name</td>
                            <td><a href="/Admin/Result/Add?StudentId=@StudentId&Course=@course.Id" class="btn custom-btn" style="width: fit-content;">Result</a></td>
                        </tr>
                        
                    }
                    

                </tbody>

            </table>


        }

    }

    <div class="col-12">
        <a asp-area="Admin" asp-controller="Result" asp-action="Session" asp-route-Id="@Model[0].SessionId" class="btn btn-secondary">back to list</a>
    </div>
</div>
